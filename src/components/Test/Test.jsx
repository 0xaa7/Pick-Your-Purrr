import { motion, useScroll, useSpring, useTransform } from 'framer-motion';
import { useRef } from 'react';


const Test = () => {

  const ref = useRef(null);



  const { scrollYProgress } = useScroll({ target: ref, offset: ["start center", "end end"] });
  const yRange = useTransform(scrollYProgress, [0, 1], [0, 1]);
  const pathLength = useSpring(yRange, { stiffness: 300, damping: 200 });



  return (
    // <div ref={ref} style={{ background: "white", height: '500vh', display: 'flex', justifyContent: 'center', alignItems: 'center' }}>
<svg ref={ref} 
width={"100%"} height={"100vh"}>
     
<motion.path  
fill="none"
          strokeWidth="2"
          stroke="#4b1794"
          strokeLinecap="round"
 initial={{pathLength: 0}}
          animate={{  pathLength: 1  }}
             style={{
            pathLength,
            scaleX: -1 // Reverse direction of line animation
          }}
           d="M515.5 1V6V10.5V225H514.5C514.333 224.5 513.9 223.5 513.5 223.5C513.1 223.5 512.5 222.5 512 222.5C511.667 222.5 511 222.6 511 223C511 223.4 510.667 224.167 510.5 224.5V226.5C508.5 233.5 502.5 233.5 498 233.5C492.41 233.5 480.55 233.525 476.5 231.5C474.5 230.5 466.5 235 463.5 213.5C463.085 210.529 464 204 463.5 204C463 204 463 204 463 204L463 201C462.667 197.667 461.9 190.9 461.5 190.5C461 190 457.777 180.916 457.5 180.5C456.5 179 458.5 174.5 458.5 174.5C458.9 174.9 459 171 459 169C461.333 165.833 465.5 159.5 465.5 159C465.1 158.6 468 156.833 469.5 156C470.833 155.167 473.5 153.4 473.5 153C473.5 152.5 471 151 470 151C469 151 466.5 152 466 151.5C465.5 151 464.009 151.687 462 147C460.5 143.5 457 143.5 456.5 143.5C455.7 143.5 453.5 140.5 453 140.5C452.5 140.5 451.5 142 451.5 141.5C451.5 141.5 450.5 141 450 141C449.5 141 448.833 142.5 448.5 143.5C448.5 143.5 447.5 144 447.5 144.5C447.5 145 448 151 448 151C447 157.5 442.333 158.833 442 159C440.5 160.5 437.3 161.4 436.5 161C435.833 161.333 434.5 162.1 434.5 162.5C434.5 163 431.5 167.5 431.5 168.5C431.5 169.3 432 172.5 430.5 172.5C429 172.5 423.4 169.9 423 169.5L417.5 166.5H410.74C408.493 166.667 404.849 167.651 404 168.5C402.5 170 404 174 405 173C410.2 172.6 411.167 171.833 411 171.5C413.167 171.5 416.22 172.54 417.5 173.5C419.5 175 420.167 176.833 421.5 177.5H414C410.5 179.833 404.5 185 404 186C403.2 187.6 403.333 189 403.5 189.5C403.667 190 404.2 191 405 191C408.2 190.6 409.333 189.5 409.5 189C412.7 185.4 414.167 184.5 414.5 184.5C417.333 185.167 423.1 186.4 423.5 186C429 187.5 431.5 187.5 431 190C430.5 192.5 432.447 209.606 432 210.5C431.5 211.5 431 214 429.5 215C430.3 215.8 430.5 216 430.5 216L429.5 216.5C429.833 216.667 430.5 217.1 430.5 217.5C430.5 217.9 430.5 218.333 430.5 218.5H431.5L431 219.5V220L430.5 220.5C430.5 220.667 430.6 221 431 221C431.4 221 431.5 221.333 431.5 221.5H432C432 222 432 223 431.5 223C431.1 223 431.333 224 431.5 224.5C431.667 224.667 432.1 225.2 432.5 226C433 227 438 231 438 231.5C438 232 431 231 430 231C429 231 424.563 232.251 425 234C425.5 236 432 237 435 237H446C447.489 236.822 447.722 236.87 450 236.5C454.8 236.5 455.5 237 456 236.5C456.5 236 459 235.5 459.5 234.615C460 233.731 462.5 233 462.5 233L468 236C476.5 238 494.5 239 494.5 239L509.5 238.5C511.1 238.1 508.833 237.667 507.5 237.5C510 235.5 514.8 231.5 514 231.5C513.2 231.5 513.667 230.833 514 230.5L515 228.5H515.5V236.5L515.5 254.5V272V289.5V410.3H516.5"/>

</svg>




    



    // </div>
  );
};

export default Test;
